<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <title>Reservations</title>
</head>
<body>
    <h1>Reservations</h1>
    <h2>Current Reservations</h2>
    <div id="reservations"></div>
    <h2>Waitlist Reservations</h2>
    <div id="waitlist"></div>
      <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
      <script>
          $.get("/api/reservations/", function(data) {
        console.log(data);


        // create a for loop to iterate over reservations array data 
        for (let i = 0; i < data.length; i++) {
            console.log(data[i].name, data[i].time, data[i].phone, data[i].numberOfPeople, data[i].email, data[i].id);
            // create a card with name, time, phone #, number of people, email, id for each array object
            // append res card to parent element in html
            

            // if i < 5 ...
            // else if i > 5
            if (i >= 5){
                // alert("All our tables are booked, so your party's been put on the waitlist.");
                var waitlistCard = `
                <div class="card">
                    <div class="card-body">
                        <p><strong>Name: </strong> ${data[i].name}</p>
                        <p><strong>Time: </strong> ${data[i].time}</p>
                        <p><strong>Phone #: </strong> ${data[i].phone}</p>
                        <p><strong>Number of People: </strong> ${data[i].numberOfPeople}</p>
                        <p><strong>ID: </strong> ${data[i].id}</p>
                    </div>
                </div>
            `
            $("#waitlist").append(waitlistCard);
            }
            else {
                var resCard = `
                <div class="card">
                    <div class="card-body">
                        <p><strong>Name: </strong> ${data[i].name}</p>
                        <p><strong>Time: </strong> ${data[i].time}</p>
                        <p><strong>Phone #: </strong> ${data[i].phone}</p>
                        <p><strong>Number of People: </strong> ${data[i].numberOfPeople}</p>
                        <p><strong>ID: </strong> ${data[i].id}</p>
                    </div>
                </div>
            `
            $("#reservations").append(resCard);
            }

        };
        
        // if there are more than 5 objects in reservations, 
        // create waitlist card 
        // append waitlist card to waitlist div in html

        // if (data) {
        //   $("#stats").show();
        //   $("#name").text(data.name);
        //   $("#role").text(data.role);
        //   $("#age").text(data.age);
        //   $("#force-points").text(data.forcePoints);
        // } else {
        //   $("#name").text(
        //     "The force is not strong with this one. Your character was not found.");
        //   $("#stats").hide();
        // }
      });
      </script>
</body>
</html>